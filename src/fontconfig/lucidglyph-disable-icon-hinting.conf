<?xml version="1.0"?>
<!DOCTYPE fontconfig SYSTEM "urn:fontconfig:fonts.dtd">
<fontconfig>
  <!--
    Attempts to fix the icon fonts emboldening after autofitter stem-darkening,
    when darkening is >0 on stem <=1000.

    There is a lot of problems and the main one of them is missing features in
    some ~~pieces of garbage~~ software like chromium, that ignores most of the
    advanced rules from fontconfig.

    Okay, that was a little overboard with chromium, haha :)

    I got some success in disabling the hinting and is therefore disabling the
    stem-darkening by reverse matching the fonts with missing "lang" property,
    but it still is a very dumb way to do so. I had to use the reverse matching
    because it looks like there's simply no such feature in fontconfig to detect
    if string value is just empty.

    The idea is to somehow detect if the font is icon-only type and then disable
    hinting for it. But I have yet to find a way to make the proper detection.
  -->
  <match target="font">
    <test name="lang" compare="not_contains" qual="any">
      <langset>
        <string>en</string>
      </langset>
    </test>
    <!-- VS Code icon font name, for testing purposes -->
    <!-- <test name="family" qual="any"> -->
    <!--   <string>codicon</string> -->
    <!-- </test> -->
    <edit name="hinting" mode="assign">
      <bool>false</bool>
    </edit>
  </match>
</fontconfig>
